# Description: A userspace virtual filesystem designed to work with the I/O abstractions of gio (glib)
# URL: http://projects.gnome.org/
# Packager: Matt Housh, jaeger at crux dot ninja
# Maintainer: mac-a-r0ni, j at lngn dot net 
# Depends on: dbus dbus-glib glib gcr gcr3 samba libgcrypt polkit libgphoto2 libsecret meson ninja libsoup3 libgnome-keyring
# TODO: add gnome-online-accounts (online sharing), fuse3 REMOVED docbook-xsl

name=gvfs
version=1.50.5
release=1
source=(http://download.gnome.org/sources/$name/${version:0:4}/$name-$version.tar.xz)

build() {

  cd $name-$version

  meson setup build \
    --prefix=/usr \
    --libexecdir=/usr/lib/$name \
    -Dudisks2=true \
    -Dlogind=false \
    -Dsystemduserunitdir=no \
    -Dtmpfilesdir=no \
    -Ddnssd=false \
    -Dfuse=false \
    -Dafc=false \
    -Dgoa=false \
    -Dbluray=false \
    -Dcdda=false \
    -Dgoogle=false \
    -Dmtp=false \
    -Dnfs=false

  DESTDIR=$PKG ninja -C build install

  rm -r $PKG/usr/share/locale

}
