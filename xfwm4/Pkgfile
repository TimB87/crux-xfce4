# Description:	Xfce's window manager
# URL:		https://www.xfce.org
# Maintainer:	 jolupa, jolupameister at gmail dot com
# Depends on:	libxfce4util xfconf libwnck-gtk3 exo thunar garcon libnotify

name=xfwm4
version=4.13.2
release=2
source=(https://git.xfce.org/xfce/$name/snapshot/$name-$version.tar.gz patch1.patch patch2.patch patch3.patch)

build() {

	cd $name-$version
	
	patch -Np 1 -i ../patch1.patch
	patch -Np 1 -i ../patch2.patch
	patch -Np 1 -i ../patch3.patch
	
	./autogen.sh \
	  --prefix=/usr \
	  --libexecdir=/usr/lib/$name \
	  --enable-shared \
	  --enable-xsync \
	  --enable-render \
	  --enable-randr \
	  --enable-xpresent \
	  --enable-compositor \
	  --disable-debug \
	  --with-x

	make
  make DESTDIR=$PKG install
  
  #rm -r $PKG/usr/share/locale
  rm $PKG/usr/share/themes/{Daloa,Default-hdpi,Default-xhdpi,Kokodi,Moheli}/xfwm4/README
}
